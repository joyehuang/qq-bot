# CLAUDE.md

è¿™æ˜¯ä¸€ä¸ª QQ ç¾¤æ‰“å¡æœºå™¨äººé¡¹ç›®ï¼Œä½¿ç”¨ NapCat ä½œä¸º QQ åè®®ç«¯ã€‚

## Git æäº¤è§„èŒƒ

- ä½¿ç”¨ Conventional Commit è§„èŒƒ
- æ ¼å¼ï¼š`type(scope): description`
- ç¤ºä¾‹ï¼š`feat(æ‰“å¡): æ–°å¢æ‰“å¡åŠŸèƒ½åŠæŒ‡ä»¤`
- åªéœ€ä¸€è¡Œï¼Œä¸éœ€è¦åŒ…å« "Generated by Claude Code" ç­‰å†…å®¹
- **æ¯å®Œæˆä¸€ä¸ªåŠŸèƒ½æ¨¡å—åï¼Œè‡ªåŠ¨ commit å¹¶ push åˆ° GitHub**
- **æ¯å®Œæˆä¸€ä¸ªåŠŸèƒ½æ¨¡å—åï¼Œè‡ªåŠ¨è¿è¡Œ `docker compose up -d --build` é‡æ–°éƒ¨ç½²**
- **æ–°å¢/ä¿®æ”¹åŠŸèƒ½æ—¶ï¼ŒåŒæ­¥æ›´æ–° README.md å’Œ COMMANDS.md**

## åŠŸèƒ½å‘å¸ƒå…¬å‘Šè§„èŒƒ

**æ–°åŠŸèƒ½å‘å¸ƒæµç¨‹ï¼š**

1. **åŠŸèƒ½å¼€å‘å®Œæˆå**ï¼š
   - ç¡®ä¿ä»£ç å·²é€šè¿‡ TypeScript ç±»å‹æ£€æŸ¥ï¼ˆ`npx tsc --noEmit`ï¼‰
   - æ›´æ–°ç›¸å…³æ–‡æ¡£ï¼ˆREADME.mdã€COMMANDS.mdï¼‰
   - æäº¤ä»£ç åˆ° GitHub

2. **ç”ŸæˆåŠŸèƒ½å…¬å‘Š**ï¼š
   - ä½¿ç”¨ `/announce` å‘½ä»¤è‡ªåŠ¨ç”Ÿæˆå…¬å‘Š
   - å‘½ä»¤ä¼šè¯»å–æœ€è¿‘çš„ Git Commit è®°å½•
   - é€šè¿‡ AI API è‡ªåŠ¨æ’ç‰ˆå’Œæ¶¦è‰²ç”Ÿæˆç¾è§‚çš„å…¬å‘Š

3. **å‘½ä»¤ä½¿ç”¨**ï¼š
   - `/announce` - åŸºäºæœ€æ–° 1 æ¡ commit ç”Ÿæˆå…¬å‘Š
   - `/announce 3` - åŸºäºæœ€è¿‘ 3 æ¡ commits ç”Ÿæˆå…¬å‘Š

4. **å…¬å‘Šå†…å®¹è‡ªåŠ¨åŒ…å«**ï¼š
   - ğŸ“‹ åŠŸèƒ½å˜æ›´æ¦‚è¿°
   - âœ¨ æ–°å¢åŠŸèƒ½åˆ—è¡¨
   - ğŸ”§ æ”¹è¿›å’Œä¿®å¤
   - ğŸ“– ä½¿ç”¨ç¤ºä¾‹ï¼ˆå¦‚é€‚ç”¨ï¼‰
   - ğŸ”— ç›¸å…³æ–‡æ¡£é“¾æ¥

5. **æ³¨æ„äº‹é¡¹**ï¼š
   - ç¡®ä¿æäº¤ä¿¡æ¯éµå¾ª Conventional Commit è§„èŒƒ
   - æäº¤ä¿¡æ¯åº”æ¸…æ™°æè¿°å˜æ›´å†…å®¹
   - å…¬å‘Šä¼šè‡ªåŠ¨å‘é€åˆ°ç¾¤ç»„

## é¡¹ç›®ç»“æ„

- `src/index.ts` - ä¸»ç¨‹åºå…¥å£ï¼ˆBot ä¸»ç¨‹åºï¼‰
- `admin/server/` - ç®¡ç†åå° API æœåŠ¡ï¼ˆExpress + TypeScriptï¼‰
- `admin/web/` - ç®¡ç†åå°å‰ç«¯ï¼ˆVue 3 + TypeScript + Viteï¼‰
- `prisma/` - æ•°æ®åº“ schema å’Œè¿ç§»
- `napcat/` - NapCat é…ç½®æ–‡ä»¶
- `COMMANDS.md` - **æŒ‡ä»¤æ–‡æ¡£ï¼ˆæ–°å¢/åˆ é™¤æŒ‡ä»¤æ—¶å¿…é¡»åŒæ­¥æ›´æ–°ï¼‰**

## TypeScript å¼€å‘è§„èŒƒ

### âš ï¸ ç±»å‹å¯¼å…¥è§„èŒƒï¼ˆé‡è¦ï¼‰

**æ‰€æœ‰ä»ç¬¬ä¸‰æ–¹åº“å¯¼å…¥çš„ TypeScript ç±»å‹å®šä¹‰ï¼Œå¿…é¡»ä½¿ç”¨ `import type` è¯­æ³•ï¼**

âŒ **é”™è¯¯å†™æ³•**ï¼š
```typescript
// é”™è¯¯ï¼šå°†ç±»å‹å’Œè¿è¡Œæ—¶å€¼æ··åˆå¯¼å…¥
import axios, { AxiosError, AxiosInstance, AxiosRequestConfig, AxiosResponse } from 'axios';
import { createRouter, createWebHistory, RouteRecordRaw } from 'vue-router';
```

âœ… **æ­£ç¡®å†™æ³•**ï¼š
```typescript
// æ­£ç¡®ï¼šåˆ†ç¦»ç±»å‹å¯¼å…¥
import axios from 'axios';
import type { AxiosError, AxiosInstance, AxiosRequestConfig, AxiosResponse } from 'axios';

import { createRouter, createWebHistory } from 'vue-router';
import type { RouteRecordRaw } from 'vue-router';
```

**åŸå› **ï¼š
- Vite åœ¨æµè§ˆå™¨è¿è¡Œæ—¶ä¼šå°è¯•æŸ¥æ‰¾å¯¼å…¥çš„å¯¼å‡ºé¡¹
- TypeScript ç±»å‹ï¼ˆå¦‚ `AxiosInstance`ã€`RouteRecordRaw`ï¼‰ä¸ä¼šåœ¨è¿è¡Œæ—¶å­˜åœ¨
- å¦‚æœä¸ä½¿ç”¨ `import type`ï¼Œä¼šå¯¼è‡´è¿è¡Œæ—¶é”™è¯¯ï¼š`does not provide an export named 'XXX'`

**åˆ¤æ–­æ–¹æ³•**ï¼š
- **è¿è¡Œæ—¶å€¼**ï¼ˆå‡½æ•°ã€ç±»ã€å¯¹è±¡ï¼‰â†’ ä½¿ç”¨æ™®é€š `import`
  - ä¾‹å¦‚ï¼š`axios`ã€`createRouter`ã€`createWebHistory`ã€`ref`ã€`computed`
- **çº¯ç±»å‹**ï¼ˆinterfaceã€typeã€æ³›å‹å‚æ•°ï¼‰â†’ ä½¿ç”¨ `import type`
  - ä¾‹å¦‚ï¼š`AxiosInstance`ã€`RouteRecordRaw`ã€`Ref`ã€`ComputedRef`

## å¼€å‘å‘½ä»¤

### Bot ä¸»ç¨‹åº
```bash
# å¯åŠ¨å¼€å‘
npx ts-node src/index.ts

# æ•°æ®åº“è¿ç§»
npx prisma migrate dev
```

### ç®¡ç†åå°
```bash
# å¯åŠ¨åç«¯ APIï¼ˆç«¯å£ 3001ï¼‰
cd admin/server
npm run dev

# å¯åŠ¨å‰ç«¯ï¼ˆç«¯å£ 5173/5174ï¼‰
cd admin/web
npm run dev
```
